# Template skeleton {#custom-templates-skeleton}
The list of all available layouts is quite impressive (horizontal, vertical, compressed, right to left, dark, ...). In the next steps, we will focus on the dark-compressed template. We leave the reader to try other templates as an exercise.

## Identify template elements
We are quite lucky since there is nothing fancy about the tabler layout. As usual, let's inspect the layout-condensed-dark.html (in the tabler /demo folder) in Figure \@ref(fig:tabler-layout-intro)

```{r tabler-layout-intro, echo=FALSE, fig.cap='Tabler condensed layout'}
knitr::include_graphics("images/practice/tabler-layout-intro.png")
```

There are 2 main components:
- the header containing the brand logo, the navigation and dropdown
- the content containing the dashboard body (does not mean `<body>` tag!!) as well as the footer

This is all!


## Design the page wrapper

```{r, eval=FALSE}
tabler_page <- function(..., dark = TRUE, title = NULL, favicon = NULL){
  
  tagList(
    # Head
    tags$head(
      tags$meta(charset = "utf-8"),
      tags$meta(
        name = "viewport", 
        content = "
        width=device-width, 
        initial-scale=1, 
        viewport-fit=cover"
      ),
      tags$meta(`http-equiv` = "X-UA-Compatible", content = "ie=edge"),
      tags$title(title),
      tags$link(
        rel = "preconnect", 
        href = "https://fonts.gstatic.com/", 
        crossorigin = NA
      ),
      tags$meta(name = "msapplication-TileColor", content = "#206bc4"),
      tags$meta(name = "theme-color", content = "#206bc4"),
      tags$meta(name = "apple-mobile-web-app-status-bar-style", content = "black-translucent"),
      tags$meta(name = "apple-mobile-web-app-capable", content = "yes"),
      tags$meta(name = "mobile-web-app-capable", content = "yes"),
      tags$meta(name = "HandheldFriendly", content = "True"),
      tags$meta(name = "MobileOptimized", content = "320"),
      tags$meta(name = "robots", content = "noindex,nofollow,noarchive"),
      tags$link(rel = "icon", href = favicon, type = "image/x-icon"),
      tags$link(rel = "shortcut icon", href = favicon, type="image/x-icon")
    ),
    # Body
    addDeps(
      tags$body(
        tags$div(
          class = paste0("antialiased ", if(dark) "theme-dark"),
          style = "display: block;",
          tags$div(class = "page", ...)
        )
      )
    )
  )
}

# Below we quickly test if a tabler element renders well to see whether
# deps are correctly proccessed. We also ensure that basic Shiny input/output system works as expected
ui <- tabler_page(
  "test", 
  sliderInput("obs", "Number of observations:",
    min = 0, max = 1000, value = 500
  ),
  plotOutput("distPlot"),
  HTML(
    '<div class="col-sm-6 col-lg-3">
              <div class="card">
                <div class="card-body">
                  <div class="d-flex align-items-center">
                    <div class="subheader">Sales</div>
                    <div class="ml-auto lh-1">
                      <div class="dropdown">
                        <a class="dropdown-toggle text-muted" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                          Last 7 days
                        </a>
                        <div class="dropdown-menu dropdown-menu-right">
                          <a class="dropdown-item active" href="#">Last 7 days</a>
                          <a class="dropdown-item" href="#">Last 30 days</a>
                          <a class="dropdown-item" href="#">Last 3 months</a>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="h1 mb-3">75%</div>
                  <div class="d-flex mb-2">
                    <div>Conversion rate</div>
                    <div class="ml-auto">
                      <span class="text-green d-inline-flex align-items-center lh-1">
                        7% <svg xmlns="http://www.w3.org/2000/svg" class="icon ml-1" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"></path><polyline points="3 17 9 11 13 15 21 7"></polyline><polyline points="14 7 21 7 21 14"></polyline></svg>
                      </span>
                    </div>
                  </div>
                  <div class="progress progress-sm">
                    <div class="progress-bar bg-blue" style="width: 75%" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100">
                      <span class="sr-only">75% Complete</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
    '
  ),
  title = "Tabler test"
)
server <- function(input, output, session) {
  output$distPlot <- renderPlot({
    hist(rnorm(input$obs))
  })
}
shinyApp(ui, server)
```